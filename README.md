# 数学公式笛卡尔坐标系可视化工具
一款基于HTML5 Canvas实现的数学公式可视化工具，支持基础函数绘制与趣味数学曲线展示，提供坐标系缩放、坐标提示、函数说明等功能，适配PC与移动端设备。

## 效果展示
![数学公式可视化工具展示](http://debuff.org/img/i/2026/02/12/wehnbp.png)

## 核心功能
1. **多类型函数支持**：内置正弦、余弦、正切、对数、指数、幂函数等基础数学函数，均支持公式编辑与实时刷新。
2. **趣味曲线展示**：提供心形线、玫瑰线、阿基米德螺线、单位圆、椭圆、衰减正弦曲线等经典趣味数学曲线，采用极坐标/参数方程独立绘制，展示效果完整。
3. **灵活的缩放功能**：支持鼠标滚轮缩放与页面按钮缩放，坐标系缩放范围做设备适配，保证操作体验。
4. **坐标实时提示**：鼠标悬停在画布上可实时显示坐标信息，基础函数自动计算整数横坐标对应的函数值，趣味曲线展示鼠标实时位置坐标。
5. **函数说明卡片**：内置所有预制函数与曲线的详细说明，包含定义域、值域、奇偶性、方程形式等核心信息。
6. **设备适配**：针对PC与移动端做布局与交互适配，移动端自适应画布尺寸，操作按钮与说明卡片布局优化。
7. **左侧抽屉式设置**：公式选择与编辑区域采用抽屉式设计，可展开/收起，不遮挡画布展示区域。

## 支持的函数与曲线
### 基础可编辑函数
包含三角函数（sin/cos/tan/ctan/反三角）、双曲函数（sinh/cosh/tanh）、对数/指数函数（ln/exp）、幂函数/根式（x²/x³/√x/立方根）、反比例函数、线性函数等，所有函数支持以`y=f(x)`形式自定义编辑。

### 趣味展示曲线
心形线、跳动心形线、五瓣玫瑰线、十三瓣玫瑰线、阿基米德螺线、衰减正弦曲线、单位圆、椭圆，所有趣味曲线采用独立绘制逻辑，仅作展示使用。

## 技术栈
- 前端：HTML5 Canvas、JavaScript、CSS3
- 公式解析：math.min.js（轻量级数学计算库）
- 布局：原生CSS3弹性布局+定位，无第三方UI框架

## 目录结构
```
├── css/
│   └── style.css    # 样式文件，包含所有布局与样式定义
├── js/
│   └── formula.js   # 核心逻辑文件，画布/坐标系/曲线绘制、交互逻辑
├── lib/
│   └── math.min.js  # 数学计算依赖库
└── index.php        # 入口文件，页面结构与DOM定义
```

## 使用方法
1. 克隆项目到本地，确保所有文件目录结构保持不变；
2. 将项目部署到PHP环境或直接通过浏览器打开index.php文件；
3. 展开左侧「公式设置」抽屉，选择预制公式/曲线，或在自定义输入框中输入`y=f(x)`形式的公式；
4. 点击「刷新曲线」或按回车键，画布将实时绘制对应函数曲线；
5. 使用右下角「放大/缩小」按钮或鼠标滚轮调整坐标系范围；
6. 鼠标悬停在画布上查看坐标信息，右侧卡片查看函数/曲线详细说明。

## 自定义公式规则
1. 仅支持`y=f(x)`形式的显函数，变量仅为x；
2. 支持的运算符：加(+)、减(-)、乘(*)、除(/)、乘方(^)；
3. 支持的内置函数：sin/cos/tan/ctan(cot)/asin/acos/atan/sinh/cosh/tanh/ln/exp/sqrt；
4. 示例：`sin(x)+cos(x)`、`x^2-5*x+6`、`sqrt(1-x^2)`。

## 交互说明
1. 公式设置：左侧抽屉可通过「展开/收起」按钮控制显示/隐藏；
2. 曲线刷新：选择预制公式自动刷新，自定义公式需点击「刷新曲线」或按回车键；
3. 坐标系缩放：PC端支持鼠标滚轮，所有设备支持右下角缩放按钮；
4. 说明卡片：右侧卡片可通过关闭按钮隐藏，选择预制公式自动更新说明内容；
5. 坐标提示：鼠标悬停画布实时显示，离开画布自动隐藏。

## 注意事项
1. 趣味曲线为仅展示模式，选择后自定义输入框将禁用，切换回基础函数后恢复编辑；
2. 自定义公式需符合`y=f(x)`语法规则，非法公式将无法绘制曲线；
3. 正切函数等存在定义域限制的函数，工具已做自动过滤，避免出现无效绘制；
4. 确保lib目录下的math.min.js文件存在且路径正确，否则公式解析功能将失效；
5. 移动端建议横屏使用，获得更好的画布展示与操作体验。
